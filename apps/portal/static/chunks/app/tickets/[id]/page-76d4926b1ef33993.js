(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[266],{4307:(e,s,a)=>{Promise.resolve().then(a.bind(a,9796))},9796:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>d});var l=a(4799),i=a(212),t=a(6321),c=a(1809),x=a(3330),n=a(4023);function d(){let e=(0,x.useParams)();if(!(null==e?void 0:e.id))return null;let s=e.id,a=new i.BD((0,c.S)()),[d,r]=(0,n.useState)(null),[m,h]=(0,n.useState)([]),[p,u]=(0,n.useState)(null);return((0,n.useEffect)(()=>{(async function(){try{let[e,l]=await Promise.all([a.getMyTicket(s),a.getTicketMessages(s)]);r(e),h(l)}catch(e){u(e instanceof Error?e.message:"Failed to load ticket")}})()},[s,a]),p)?(0,l.jsx)("div",{className:"min-h-screen bg-gray-100",children:(0,l.jsx)("div",{className:"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8",children:(0,l.jsx)("div",{className:"px-4 py-6 sm:px-0",children:(0,l.jsx)("div",{className:"rounded-md bg-red-50 p-4",children:(0,l.jsx)("div",{className:"text-sm text-red-700",children:p})})})})}):d?(0,l.jsxs)("div",{className:"min-h-screen bg-gray-100",children:[(0,l.jsx)("header",{className:"bg-white shadow",children:(0,l.jsx)("div",{className:"max-w-7xl mx-auto py-6 px-4 sm:px-6 lg:px-8",children:(0,l.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Ticket Details"})})}),(0,l.jsx)("main",{className:"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8",children:(0,l.jsx)("div",{className:"px-4 py-6 sm:px-0",children:(0,l.jsx)(t.G,{ticket:d,messages:m,onSendMessage:async(e,l)=>{await a.replyToTicket(s,e),h(await a.getTicketMessages(s))}})})})]}):(0,l.jsx)("div",{className:"min-h-screen bg-gray-100",children:(0,l.jsx)("div",{className:"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8",children:(0,l.jsx)("div",{className:"px-4 py-6 sm:px-0",children:(0,l.jsx)("div",{className:"text-center",children:"Loading..."})})})})}}},e=>{var s=s=>e(e.s=s);e.O(0,[19,321,650,408,763,358],()=>s(4307)),_N_E=e.O()}]);